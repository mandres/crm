<div id="confirmar"></div>
<div id="buscar"></div>
<div id="panelPrograma" class="panel panel-default">
    <div class="panel-heading centrado">Cambiar Clave</span></div>
    <div class="panel-body">
        <form id="formPrograma">
            <div class="row">
                <div class="col-md-2">
                    <span>Clave Actual</span>
                </div>
                <div class="col-md-10">
                    <input id="clave_usuario" name="clave_usuario" type="password" class="form-control input-sm" placeholder="Contraseña Actual">
                </div>
            </div>
            <div class="row">
                <div class="col-md-2">
                    <span>Clave Nueva</span>
                </div>
                <div class="col-md-10">
                    <input id="clavenueva_usuario" name="clavenueva_usuario" type="password" class="form-control input-sm" placeholder="Contraseña Nueva">
                </div>
            </div>
            <div class="row">
                <div class="col-md-2">
                    <span>Clave Confimación</span>
                </div>
                <div class="col-md-10">
                    <input id="claveconfirmacion_usuario" name="claveconfirmacion_usuario" type="password" class="form-control input-sm" placeholder="Contraseña Nueva Confirmar">
                </div>
            </div>
        </form>
    </div>
    <div class="panel-footer centrado">
        <button id="botonCambiarClave" type="button" class="btn btn-primary btn-sm">
            <span class="glyphicon glyphicon-lock" aria-hidden="true"></span> Cambiar Clave
        </button>
        <button id="botonSalir" type="button" class="btn btn-primary btn-sm">
            <span class="glyphicon glyphicon-log-out" aria-hidden="true"></span> Salir
        </button>
    </div>
</div>
<script src="frm/crm/definiciones/cambiarclave/js/funciones.js" type="text/javascript"></script>
<script>
    verificar_sesion_ajax(true);
    $("#buscar").css("display", "none");
    $("#clave_usuario").focus();
    siguiente_campo("#clave_usuario", "#clavenueva_usuario", false);
    siguiente_campo("#clavenueva_usuario", "#claveconfirmacion_usuario", false);
    $("#botonCambiarClave").on('click', function () {
        if ($("#clave_usuario").val() === "") {
            $("#mensajes").html("Clave Actual no puede estar vacio.");
        } else {
            if ($("#clavenueva_usuario").val() === "") {
                $("#mensajes").html("Clave Nueva no puede estar vacia.");
            } else {
                if ($("#clavenueva_usuario").val() !== $("#claveconfirmacion_usuario").val()) {
                    $("#mensajes").html("Clave Nueva y su Confirmación no son iguales.");
                } else {
                    cambiarClaveUsuario();
                }
            }
        }
    });
    $("#botonSalir").on('click', function () {
        $('aside').html("");
    });
</script>